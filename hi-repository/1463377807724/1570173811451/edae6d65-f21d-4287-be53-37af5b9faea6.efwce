<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<efwce>
    <fileName>Sample Report CE</fileName>
    <efw>edae6d65-f21d-4287-be53-37af5b9faea6.efw</efw>
    <visible>true</visible>
    <description>Efw Dashboard </description>
    <state><![CDATA[{"allTypes":{"sqlTypes":[{"name":"sql"},{"name":"sql.groovy"},{"name":"sql.adhoc"}],"vizTypes":[{"name":"Area","type":"EFW-c3","subtype":"Area","icon":"AreaChart"},{"name":"Area Spline","type":"EFW-c3","subtype":"AreaSpline","icon":"AreaSplineChart"},{"name":"Area Step","type":"EFW-c3","subtype":"AreaStep","icon":"AreaStepChart"},{"name":"Bar","type":"EFW-c3","subtype":"bar","icon":"BarChart"},{"name":"Donut","type":"EFW-c3","subtype":"donut","icon":"DonutChart"},{"name":"Gauge","type":"EFW-c3","subtype":"gauge","icon":"HICircularGauge"},{"name":"Line","type":"EFW-c3","subtype":"Line","icon":"LineChart"},{"name":"Pie","type":"EFW-c3","subtype":"Pie","icon":"PieChart"},{"name":"Scatter","type":"EFW-c3","subtype":"Scatter","icon":"ScatterChart"},{"name":"Spline","type":"EFW-c3","subtype":"Spline","icon":"SplineChart"},{"name":"Step","type":"EFW-c3","subtype":"Step","icon":"StepChart"},{"name":"Cross Tab","type":"EFW-CrossTab","icon":"HICrossTable"},{"name":"Table","type":"EFW-Table","icon":"HITable"},{"name":"Custom","type":"Custom","icon":"VF"}],"connTypes":[{"clazz":"com.helicalinsight.datasource.GlobalJdbcDataSource","classifier":"global","name":"Managed DataSource","type":"global.jdbc","hidden":"false"},{"clazz":"com.helicalinsight.datasource.JDBCDriver","classifier":"efwd","name":"Plain Jdbc DataSource","type":"sql.jdbc","hidden":"false"},{"clazz":"com.helicalinsight.adhoc.SqlAdhocDriver","classifier":"efwd","name":"Adhoc DataSource","type":"sql.adhoc","hidden":"true"},{"clazz":"com.helicalinsight.datasource.ExtJDBCDriver","classifier":"efwd","name":"Groovy Plain Jdbc DataSource","type":"sql.jdbc.groovy","hidden":"false"},{"clazz":"com.helicalinsight.datasource.GroovyManagedDriver","classifier":"efwd","name":"Groovy Managed Jdbc DataSource","type":"sql.jdbc.groovy.managed","hidden":"false"}],"parameterTypes":[{"name":"Collection"},{"name":"Numeric"},{"name":"String"}]},"datasource":[{"id":1,"configure":"<globalId>1<\/globalId>","name":"connection1","type":{"name":"Managed DataSource","type":"global.jdbc"}}],"dashboard":{"html":"\t<div class=\"col-xs-12\" style=\"padding:0px;\">\n\t\t<div class=\"row\" >\n\t\t\t\n\t\t\t<div class=\"col-xs-12\">\n\t\t\t\t<div class=\"top-panel row\">\n\t\t\t\t\t<div class=\"col-xs-1\">\n\t\t\t\t\t\t<img class=\"img-responsive\" id=\"logo\" src=\"getExternalResource.html?path=1463377807724/1570173811451/logo.png\" />\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"col-xs-2\"><\/div>\n\t\t\t\t\t<div class=\"col-xs-6 select-option\">\n\t\t\t\t\t\t<div class=\"col-xs-9\" id=\"select\"><\/div>\n\t\t\t\t\t\t<div class=\"col-xs-3\" id=\"runButton\"><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"col-xs-3\"><\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"row main-contents\">\n\t\t\t\t\t<div class=\"col-xs-1 left-panel\">\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"col-xs-11\">\n\t\t\t\t\t\t<div class=\"row mid-panel\"  style=\"padding-left:10px;  padding-right:10px;\">\n\t\t\t\t\t\t\t<div class=\"col-xs-7\" style=\"height:100%; padding-right:1.2vw; padding-left:1.2vw;\">\n\t\t\t\t\t\t\t\t<div class=\"row\" style=\"margin-right:0px; margin-left:0px;\" id=\"traveller_type\">\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4 traveller-type nomad\">NOMAD<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4 traveller-type traveller\">TRAVELLER<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4 traveller-type tourist\">TOURIST<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div style=\"height:15px;\"><\/div>\n\t\t\t\t\t\t\t\t<div class=\"row\" style=\"margin-right:0px; margin-left:0px; background:white;\">\n\t\t\t\t\t\t\t\t\t<div id=\"barChartHeading\">Number of Tours per Quarter<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"barChart\"><\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"col-xs-5\" style=\"height:100%;\">\n\t\t\t\t\t\t\t\t<div class=\"col-xs-6 traveller-avg-cost\">\n\t\t\t\t\t\t\t\t\t<div class=\"row traveller-avg-cost-label\">Avg Cost<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"row traveller-avg-cost-value\" id=\"traveller-avg-cost-value\">Avg Cost<\/div>\n\t\t\t\t\t\t\t\t\t<img class=\"image-traveller img-responsive\" src=\"getExternalResource.html?path=1463377807724/1570173811451/traveller_avg_price.png\" />\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"col-xs-6 company-avg-cost\">\n\t\t\t\t\t\t\t\t\t<div class=\"row company-avg-cost-label\">Company Avg Cost<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"row company-avg-cost-value\" id=\"company-avg-cost-value\">Company Avg<\/div>\n\t\t\t\t\t\t\t\t\t<img class=\"image-company img-responsive\" src=\"getExternalResource.html?path=1463377807724/1570173811451/company_avg_prive.png\" />\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"row\" style=\"height:15px\">\n\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"row\" style=\"height:15vw; padding-left:1.2vw; padding-right:1.2vw\">\n\t\t\t\t\t\t\t<div class=\"col-xs-2\" id=\"travel-type\">\n\t\t\t\t\t\t\t\t<div class=\"row travel-type\" id=\"flight\">\n\t\t\t\t\t\t\t\t\t<img class=\"col-xs-4 type-image img-responsive\" src = \"getExternalResource.html?path=1463377807724/1570173811451/plane.png\" />\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8 checked\">Flight<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"row travel-type\" id=\"train\">\n\t\t\t\t\t\t\t\t\t<img class=\"col-xs-4 type-image img-responsive\" src = \"getExternalResource.html?path=1463377807724/1570173811451/train.png\" />\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">Train<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"row travel-type\" id=\"cab\">\n\t\t\t\t\t\t\t\t\t<img class=\"col-xs-4 type-image  img-responsive\" src = \"getExternalResource.html?path=1463377807724/1570173811451/cab.png\" />\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">Cab<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"row travel-type\" id=\"bus\">\n\t\t\t\t\t\t\t\t\t<img class=\"col-xs-4 type-image  img-responsive\" src = \"getExternalResource.html?path=1463377807724/1570173811451/bus.png\" />\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">Bus<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"col-xs-10\">\n\t\t\t\t\t\t\t\t<div class=\"row\" style=\"background: white; height: 15vw\">\n\t\t\t\t\t\t\t\t\t<div class=\"cost-of-travel\">Cost of Travel<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4\" id=\"traveller-travel-type-cost\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"traveller-travel-type-cost-value\"><\/div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"traveller-travel-type-cost-label\">Person Cost<\/div>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4\" id=\"pieChart\">\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4\" id=\"company-travel-type-cost\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"company-travel-type-cost-value\"><\/div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"company-travel-type-cost-label\">Company Cost<\/div>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div id=\"dummy\"><\/div>\n\t<\/div>\n\t<script>\n    $('.travel-type').on('click', function(){\n\tdashboard.setVariable('travel_type', $($(this).children()[1]).text());\n\t$('.checked').removeClass('checked');\n\t$(this).addClass('checked');\n});\n\n\t<\/script>","css":"@media print {\n\t#logo{\n\t\theight: 3.2vw;\n\t\twidth: 3.2vw;\n\t}\n\t\n\t.mid-panel{\n\t\theight: 250px;\n\t}\n}\n\n#logo{\n\tmargin-top:1.2vw;\n\tmax-height: 3.2vw;\n\tmax-width: 3.2vw;\n\tborder-radius:50%;\n\tborder: 1px solid #90c601;\n\tbackground: #5a68af;\n}\n\n.left-panel{\n\tbackground: #354751;\n\theight: 560px; //40.57vw;\n\tmargin-top:-15px;\n\twidth: 5.5%;\n}\n\n.top-panel{\n\tbackground: #354751;\n\theight: 59px;\n}\n\n#select, #runButton{\n\tpadding:0px;\n\theight:100%;\n}\n\n.form-control{\n\tborder-radius: 0px;\n\tborder-top-left-radius: 20px;\n\tborder-bottom-left-radius: 20px;\n}\n\n#runButton > .btn{\n\tborder-radius: 0px;\n\tborder-top-right-radius: 20px;\n\tborder-bottom-right-radius: 20px;\n\tbackground: #f2554f;\n\tborder-color: #f2554f;\n}\n\n.select-option{\n\tpadding-top: 15px;\n}\n\n.traveller-type{\n\tfont-family: raleway;\n\ttext-align: center;\n\tbackground: white;\n\tline-height: 1.5;\n\tfont-size: 1.4vw;\n\tpadding-top:0.1%;\n}\n\n\n.selected{\n\tbackground: #22c0d6;\n\tcolor: white;\n}\n\n.main-contents{\n\t//width: 100%;\n\tpadding-top: 15px;\n\tbackground:#eff4f7;\n}\n\n.traveller-avg-cost{\n\theight: 100%;\n\ttext-align: center;\n\tbackground: #5a68af;\n\tright: 10px;\n\tcolor: white;\n\tpadding-right: 0px;\n\tpadding-left: 0px;\n}\n\n.traveller-avg-cost-label{\n\tfont-family: raleway;\n\tmargin-top:1.5vw;\n\tfont-size:1.5vw;\n}\n\n.traveller-avg-cost-value{\n\tfont-family: raleway;\n\tfont-size: 2vw;\n}\n\n\n.company-avg-cost{\n\theight: 100%;\n\ttext-align: center;\n\tbackground: #27bfd7;\n\tleft: 0.75vw;\n\tcolor: white;\n\tpadding-right: 0vw;\n\tpadding-left: 0vw;\n}\n\n.company-avg-cost-label{\n\tfont-family: raleway;\n\tmargin-top:1.5vw;\n\tfont-size:1.5vw;\n}\n\n.company-avg-cost-value{\n\tfont-family: raleway;\n\tfont-size: 2vw;\n}\n\n.image-traveller{\n\twidth:100%;\n\tmax-height:60%;\n\tmargin-top:11%;\n\tpadding-right: 10%;\n\tpadding-left: 10%;\n}\n\n.image-company{\n\twidth: 100%;\n\tmargin-top:25%;\n}\n\n#barChartHeading{\n\tfont-family: raleway;\n\tfont-size: 1.5vw;\n\ttext-align: center;\n}\n\n.travel-type{\n\tfont-family: raleway;\n\tfont-size: 1.5vw;\n\tpadding-top:6.5%;\n\tcolor:white;\n\theight:3.75vw;\n\ttext-align: left;\n}\n\n#flight{\n\tbackground: #5b67ae;\n\tcursor: pointer;\n}\n\n#train{\n\tbackground: #27bfd7;\n\tcursor: pointer;\n}\n\n#cab{\n\tbackground: #faa719;\n\tcursor: pointer;\n}\n\n#bus{\n\tbackground: #f0564e;\n\tcursor: pointer;\n}\n\n.cost-of-travel{\n\tfont-family: raleway;\n\tfont-size: 1.5vw;\n\ttext-align: center;\n}\n\n#traveller-travel-type-cost-label, #company-travel-type-cost-label{\n\tfont-family: raleway;\n\tfont-size: 1.5vw;\n\ttext-align: center;\n\tpadding-right: 0vw;\n\tpadding-left: 0vw;\n}\n\n#traveller-travel-type-cost-value, #company-travel-type-cost-value{\n\tpadding-top: 1vw;\n\tfont-family: raleway;\n\tfont-size: 2.5vw;\n\ttext-align: center;\n\tpadding-right: 0vw;\n\tpadding-left: 0vw;\n}\n\n.checked{\n\tfont-style: italic;\n\tfont-weight: bold;\n}\n\n.type-image{\n\tpadding-left: 0px;\n}\n\n#chart_2 > svg{\n\theight: 17.5vw;\n}\n\n#chart_5 > svg{\n\theight: 12.75vw;\n}\n\n#company-travel-type-cost, #traveller-travel-type-cost, #pieChart{\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n}\n\n.mid-panel{\n\theight: 320px;\n}"},"parameters":[{"id":1,"configure":"dashboard.setVariable('traveller_name', 'Murray Hurps');\ndashboard.setVariable('travel_type', 'Flight');\n\nvar traveller_name = {\n    name: \"traveller_name\",\n    type:  \"select\",\n\tparameters :[\"traveller_name\"],\n\toptions:{\n        multiple:false,\n        value : \"employee\",\n        display : \"employee\",\n    },\n    htmlElementId : \"#select\",\n    executeAtStart: true,\n\tmap:1,\n\tefwd : {\n        file: '__efwd_file_name__'\n    },\n};","name":"traveller_name","type":"String","sql":{"id":1,"type":"sql","text":"select \"employee_name\" as \"employee\" from \"employee_details\"","dataSource":{"id":1,"name":"connection1"},"parameters":[]}},{"id":2,"configure":"var runButton = {\n    name: \"runButton\",\n\ttriggers:[\"travellerType\", \"barChart\", \"avgCost\", \"companyAvgCost\", \"pieChart\", \"travelTypeCostPerPerson\", \"travelTypeCostCompany\"],\n    type:  \"button\",\n\toptions:{\n\t\t\tdisplay: \"Check Status\"\n\t\t},\n    htmlElementId : \"#runButton\",\n    executeAtStart: false  ,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};\n","name":"runButton","type":"String","sql":{"id":2,"type":"sql","text":"","dataSource":{},"parameters":[]}},{"id":3,"configure":"","name":"travel_type","type":"String","sql":{"id":3,"type":"sql","text":"","dataSource":{},"parameters":[]}}],"reports":[{"id":1,"configure":"var travellerType = {\n    name: \"travellerType\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 1,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\"\n\t},\n    htmlElementId : \"#dummy\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    }\n};\n","visualisation":"$('.selected').removeClass('selected');\n\t\t\t\t\t\n\t\t\t\t\tif(data[0].travel_count <= 10 && data[0].travel_count >= 0)\n\t\t\t\t\t\t$('.tourist').addClass('selected');\n\t\t\t\t\telse if (data[0].travel_count > 10 && data[0].travel_count <= 20)\n\t\t\t\t\t\t$('.traveller').addClass('selected');\n\t\t\t\t\telse\n\t\t\t\t\t\t$('.nomad').addClass('selected');","name":"travellerType","vizName":"Custom","type":"Custom","icon":"VF","sql":{"id":4,"type":"sql","text":" select \r\n\t\t\t\t\t\t\"employee_name\" as \"employee\",\r\n\t\t\t\t\t\t\tcount(\"travel_cost\") as \"travel_count\" \r\n\t\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\t\twhere\r\n\t\t\t\t\t\t\t(\"employee_name\" = ${traveller_name}) \r\n\t\t\t\t\t\tgroup by\r\n\t\t\t\t\t\t\t\"employee_name\" ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""}]}},{"id":2,"configure":"var barChart = {\n    name: \"barChart\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 2,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\"\n\t},\n    htmlElementId : \"#barChart\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};\n","visualisation":" if (data.length == 0) {\n                        $('#chart_2').html(\"<div><h2 style='text-align:CENTER;color:#927333;'>No Data To Display<\/h2><\/div>\");\n                    } else {\t\t\n\t\t\t\t\t\tvar travel_count = $.map(data, function(val) { return val.travel_count; });\n\t\t\t\t\t\tvar quarter = $.map(data, function(val) { return val.quarter; });\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar chart = c3.generate({\n\t\t\t\t\t\t\tbindto: '#chart_2',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tx: 'x',\n\t\t\t\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t\t\t\t['x'].concat(quarter),\n\t\t\t\t\t\t\t\t\t['Tours'].concat(travel_count)\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\ttype : 'area-step',\n\t\t\t\t\t\t\t\tcolors: {\n\t\t\t\t\t\t\t\t\t'Tours' : '#faa719'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\tx: {\n\t\t\t\t\t\t\t\t\ttype: 'category' // this needed to load string x value\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ty : {\n\t\t\t\t\t\t\t\t\tshow: false \n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttooltip: {\n\t\t\t\t\t\t\t  show: true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlegend:{\n\t\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpadding:{\n\t\t\t\t\t\t\t\tbottom: 10\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\t\n\t\t\t\t\t}","name":"barChart","vizName":"Custom","type":"Custom","icon":"VF","sql":{"id":5,"type":"sql","text":"select \r\n\tcount(\"travel_cost\") as \"travel_count\",\r\n \t(CASE MONTH(\"travel_date\") WHEN < 4 THEN 1 WHEN BETWEEN 4 AND 6 then 2 WHEN BETWEEN 7 AND 9 then 3 WHEN BETWEEN 10 AND 12 then 4 END) as \"quarter\" \r\nfrom\r\n\t\"travel_details\" \r\ngroup by\r\n\t(CASE MONTH(\"travel_date\") WHEN < 4 THEN 1 WHEN BETWEEN 4 AND 6 then 2 WHEN BETWEEN 7 AND 9 then 3 WHEN BETWEEN 10 AND 12 then 4 END) FETCH FIRST 1000 ROWS ONLY","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""}]}},{"id":3,"configure":"var avgCost = {\n    name: \"avgCost\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 3,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\"\n\t},\n    htmlElementId : \"#traveller-avg-cost-value\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};","visualisation":"if(data[0].Count===0)\n\t\t\t\t\t\t$('#traveller-avg-cost-value').html('0');\n\t\t\t\t\telse{\t\t\n\t\t\t\t\t\tvar cost = data[0].travel_cost,\n\t\t\t\t\t\t\tcount = data[0].count;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar avg = cost/count;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t$('#traveller-avg-cost-value').html('$ '+Math.round(avg * 100) / 100);\n\t\t\t\t\t}","name":"avgCost","vizName":"Custom","type":"Custom","icon":"VF","sql":{"id":6,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"travel_cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"employee_name\" = ${traveller_name}) ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""}]}},{"id":4,"configure":"var companyAvgCost = {\n    name: \"companyAvgCost\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 4,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\"\n\t},\n    htmlElementId : \"#company-avg-cost-value\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};","visualisation":"if(data[0].Count===0)\n\t\t\t\t\t\t$('#company-avg-cost-value').html('0');\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar cost = data[0].travel_cost,\n\t\t\t\t\t\t\tcount = data[0].count;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar avg = cost/count;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t$('#company-avg-cost-value').html('$ '+Math.round(avg * 100) / 100);\n\t\t\t\t\t}","name":"companyAvgCost","vizName":"Custom","type":"Custom","icon":"VF","sql":{"id":7,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"travel_cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") ","dataSource":{"id":1,"name":"connection1"},"parameters":[]}},{"id":5,"configure":"var pieChart = {\n    name: \"pieChart\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 5,\n\t\tfile : \"__efwvf_name__\"\n\t},\n    htmlElementId : \"#pieChart\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};","visualisation":"\n\t\t\t\t\tif (data.length == 0) {\n                        $('#chart_5').html(\"<div style='border:1px solid; border-color:#337ab7;'><h2 style='text-align:CENTER;color:#927333;'>No Data To Display<\/h2><\/div>\");\n                        return;\n                    } else {\n\t\t\t\t\t\tvar type = $.map(data, function(val) { return val.Type; });\n\t\t\t\t\t\tvar cost = $.map(data, function(val) { return val.Cost; });\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar chart1 = c3.generate({\n\t\t\t\t\t\t\tbindto: '#chart_5',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\trows: [\n\t\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\t\tcost\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\ttype : 'pie'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolor: {\n\t\t\t\t\t\t\t\t\t\tpattern: ['#5a68af','#27bfd7', '#faa719', '#f0564e']\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlegend:{\n\t\t\t\t\t\t\t\tshow: false,\n\t\t\t\t\t\t\t\tposition: 'top'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpadding:{\n\t\t\t\t\t\t\t\tbottom: 20\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpie: {\n\t\t\t\t\t\t\t  label: {\n\t\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}","name":"pieChart","vizName":"Custom","type":"Custom","icon":"VF","sql":{"id":8,"type":"sql","text":"select \r\n\t\t\t\t\t\t\"travel_medium\" as \"Type\",\r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc')\r\n\t\t\t\t\tgroup by\r\n\t\t\t\t\t\t\"travel_medium\"","dataSource":{"id":1,"name":"connection1"},"parameters":[]}},{"id":6,"configure":"var travelTypeCostPerPerson = {\n    name: \"travelTypeCostPerPerson\",\n\ttype:  \"chart\",\n\tlisteners: [\"travel_type\"],\n\tvf : {\n\t\tid : 6,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\",\n\t\ttravel_type: \"travel_type\"\n\t},\n    htmlElementId : \"#traveller-travel-type-cost-value\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};\n","visualisation":"if(data[0].Count===0)\n\t\t\t\t\t\t$('#traveller-travel-type-cost-value').html('$ 0');\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar cost = data[0].Cost,\n\t\t\t\t\t\t\tcount = data[0].Count;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar avg = cost/count;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t$('#traveller-travel-type-cost-value').html('$ '+Math.round(avg * 100) / 100);\n\t\t\t\t\t}","name":"travelTypeCostPerPerson","vizName":"Custom","type":"Custom","icon":"VF","sql":{"id":9,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"Count\"  \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc' AND \r\n\t\t\t\t\t\t\"employee_name\" = ${traveller_name}\r\n\t\t\t\t\t\tAND \"travel_medium\" = ${travel_type}) ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""},{"id":3,"openQuote":"","closeQuote":""}]}},{"id":7,"configure":"var travelTypeCostCompany = {\n    name: \"travelTypeCostCompany\",\n\ttype:  \"chart\",\n\tlisteners: [\"travel_type\"],\n\tvf : {\n\t\tid : 7,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttravel_type: \"travel_type\"\n\t},\n    htmlElementId : \"#company-travel-type-cost-value\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};","visualisation":"if(data[0].Count===0)\n\t\t\t\t\t\t$('#company-travel-type-cost-value').html('0');\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar cost = data[0].Cost,\n\t\t\t\t\t\t\tcount = data[0].Count;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar avg = cost/count;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t$('#company-travel-type-cost-value').html('$ '+Math.round(avg * 100) / 100);\n\t\t\t\t}","name":"travelTypeCostCompany","vizName":"Custom","type":"Custom","icon":"VF","sql":{"id":10,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"Count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc' AND \r\n\t\t\t\t\t\t\"travel_medium\" = ${travel_type}) ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":3,"openQuote":"","closeQuote":""}]}}],"currentEditor":{"type":"parameters","name":"traveller_name","component":"sql"},"sqlList":[{"id":1,"type":"sql","text":"select \"employee_name\" as employee from \"employee_details\"","dataSource":{"id":1,"name":"connection1"},"parameters":[]},{"id":2,"type":"sql","text":"","dataSource":{},"parameters":[]},{"id":3,"type":"sql","text":"","dataSource":{},"parameters":[]},{"id":4,"type":"sql","text":"select \r\n\t\"employee_name\" as \"employee\",\r\n \tsum(\"travel_cost\") as \"travel_count\" \r\nfrom\r\n\t\"travel_details\" \r\n\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\twhere (\"employee_name\" = ${traveller_name}) \r\ngroup by\r\n\t\"employee_name\" ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""}]},{"id":5,"type":"sql","text":"select \r\n\tcount(\"travel_cost\") as \"count_travel_cost\",\r\n \t(CASE MONTH(\"travel_date\") WHEN < 4 THEN 1 WHEN BETWEEN 4 AND 6 then 2 WHEN BETWEEN 7 AND 9 then 3 WHEN BETWEEN 10 AND 12 then 4 END) as \"quarter\" \r\nfrom\r\n\t\"travel_details\" \r\n\twhere\r\n\t\t\t\t\t\t\t(\"employee_name\" = ${traveller_name}) \r\n\t\t\t\t\t\t\t\r\n\tgroup by (CASE MONTH(\"travel_date\") WHEN < 4 THEN 1 WHEN BETWEEN 4 AND 6 then 2 WHEN BETWEEN 7 AND 9 then 3 WHEN BETWEEN 10 AND 12 then 4 END)","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""}]},{"id":6,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"travel_cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"employee_name\" = ${traveller_name}) ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""}]},{"id":7,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"travel_cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") ","dataSource":{"id":1,"name":"connection1"},"parameters":[]},{"id":8,"type":"sql","text":"select \r\n\t\t\t\t\t\t\"travel_medium\" as \"Type\",\r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc')\r\n\t\t\t\t\tgroup by\r\n\t\t\t\t\t\t\"travel_medium\"","dataSource":{"id":1,"name":"connection1"},"parameters":[]},{"id":9,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"Count\"  \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc' AND \r\n\t\t\t\t\t\t\"employee_name\" = ${traveller_name}\r\n\t\t\t\t\t\tAND \"travel_medium\" = ${travel_type}) ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""},{"id":3,"openQuote":"","closeQuote":""}]},{"id":10,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"Count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc' AND \r\n\t\t\t\t\t\t\"travel_medium\" = ${travel_type}) ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":3,"openQuote":"","closeQuote":""}]}],"aceText":"select \"employee_name\" as \"employee\" from \"employee_details\"","uuid":"edae6d65-f21d-4287-be53-37af5b9faea6","showDatasource":true,"showDashboard":true,"showParameter":true,"showReport":true,"Editor":{"type":"parameters","name":"traveller_name","component":"sql","aceText":"select \"employee_name\" as \"employee\" from \"employee_details\""},"editing":false,"isEditor":""},{"formData":{"state":{"allTypes":{"sqlTypes":[{"name":"sql"},{"name":"sql.groovy"},{"name":"sql.adhoc"}],"vizTypes":[{"name":"Area","type":"EFW-c3","subtype":"Area","icon":"AreaChart"},{"name":"Area Spline","type":"EFW-c3","subtype":"AreaSpline","icon":"AreaSplineChart"},{"name":"Area Step","type":"EFW-c3","subtype":"AreaStep","icon":"AreaStepChart"},{"name":"Bar","type":"EFW-c3","subtype":"bar","icon":"BarChart"},{"name":"Donut","type":"EFW-c3","subtype":"donut","icon":"DonutChart"},{"name":"Gauge","type":"EFW-c3","subtype":"gauge","icon":"HICircularGauge"},{"name":"Line","type":"EFW-c3","subtype":"Line","icon":"LineChart"},{"name":"Pie","type":"EFW-c3","subtype":"Pie","icon":"PieChart"},{"name":"Scatter","type":"EFW-c3","subtype":"Scatter","icon":"ScatterChart"},{"name":"Spline","type":"EFW-c3","subtype":"Spline","icon":"SplineChart"},{"name":"Step","type":"EFW-c3","subtype":"Step","icon":"StepChart"},{"name":"Cross Tab","type":"EFW-CrossTab","icon":"HICrossTable"},{"name":"Table","type":"EFW-Table","icon":"HITable"},{"name":"Custom","type":"Custom","icon":"VF"}],"connTypes":[{"clazz":"com.helicalinsight.datasource.GlobalJdbcDataSource","classifier":"global","name":"Managed DataSource","type":"global.jdbc","hidden":"false"},{"clazz":"com.helicalinsight.datasource.JDBCDriver","classifier":"efwd","name":"Plain Jdbc DataSource","type":"sql.jdbc","hidden":"false"},{"clazz":"com.helicalinsight.adhoc.SqlAdhocDriver","classifier":"efwd","name":"Adhoc DataSource","type":"sql.adhoc","hidden":"true"},{"clazz":"com.helicalinsight.datasource.ExtJDBCDriver","classifier":"efwd","name":"Groovy Plain Jdbc DataSource","type":"sql.jdbc.groovy","hidden":"false"},{"clazz":"com.helicalinsight.datasource.GroovyManagedDriver","classifier":"efwd","name":"Groovy Managed Jdbc DataSource","type":"sql.jdbc.groovy.managed","hidden":"false"}],"parameterTypes":[{"name":"Collection"},{"name":"Numeric"},{"name":"String"}]},"datasource":[{"id":1,"configure":"<globalId>1<\/globalId>","name":"connection1","type":{"name":"Managed DataSource","type":"global.jdbc"}}],"dashboard":{"html":"\t<div class=\"col-xs-12\" style=\"padding:0px;\">\n\t\t<div class=\"row\" >\n\t\t\t\n\t\t\t<div class=\"col-xs-12\">\n\t\t\t\t<div class=\"top-panel row\">\n\t\t\t\t\t<div class=\"col-xs-1\">\n\t\t\t\t\t\t<img class=\"img-responsive\" id=\"logo\" src=\"getExternalResource.html?path=1463377807724/1570173811451/logo.png\" />\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"col-xs-2\"><\/div>\n\t\t\t\t\t<div class=\"col-xs-6 select-option\">\n\t\t\t\t\t\t<div class=\"col-xs-9\" id=\"select\"><\/div>\n\t\t\t\t\t\t<div class=\"col-xs-3\" id=\"runButton\"><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"col-xs-3\"><\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"row main-contents\">\n\t\t\t\t\t<div class=\"col-xs-1 left-panel\">\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"col-xs-11\">\n\t\t\t\t\t\t<div class=\"row mid-panel\"  style=\"padding-left:10px;  padding-right:10px;\">\n\t\t\t\t\t\t\t<div class=\"col-xs-7\" style=\"height:100%; padding-right:1.2vw; padding-left:1.2vw;\">\n\t\t\t\t\t\t\t\t<div class=\"row\" style=\"margin-right:0px; margin-left:0px;\" id=\"traveller_type\">\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4 traveller-type nomad\">NOMAD<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4 traveller-type traveller\">TRAVELLER<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4 traveller-type tourist\">TOURIST<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div style=\"height:15px;\"><\/div>\n\t\t\t\t\t\t\t\t<div class=\"row\" style=\"margin-right:0px; margin-left:0px; background:white;\">\n\t\t\t\t\t\t\t\t\t<div id=\"barChartHeading\">Number of Tours per Quarter<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"barChart\"><\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"col-xs-5\" style=\"height:100%;\">\n\t\t\t\t\t\t\t\t<div class=\"col-xs-6 traveller-avg-cost\">\n\t\t\t\t\t\t\t\t\t<div class=\"row traveller-avg-cost-label\">Avg Cost<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"row traveller-avg-cost-value\" id=\"traveller-avg-cost-value\">Avg Cost<\/div>\n\t\t\t\t\t\t\t\t\t<img class=\"image-traveller img-responsive\" src=\"getExternalResource.html?path=1463377807724/1570173811451/traveller_avg_price.png\" />\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"col-xs-6 company-avg-cost\">\n\t\t\t\t\t\t\t\t\t<div class=\"row company-avg-cost-label\">Company Avg Cost<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"row company-avg-cost-value\" id=\"company-avg-cost-value\">Company Avg<\/div>\n\t\t\t\t\t\t\t\t\t<img class=\"image-company img-responsive\" src=\"getExternalResource.html?path=1463377807724/1570173811451/company_avg_prive.png\" />\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"row\" style=\"height:15px\">\n\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"row\" style=\"height:15vw; padding-left:1.2vw; padding-right:1.2vw\">\n\t\t\t\t\t\t\t<div class=\"col-xs-2\" id=\"travel-type\">\n\t\t\t\t\t\t\t\t<div class=\"row travel-type\" id=\"flight\">\n\t\t\t\t\t\t\t\t\t<img class=\"col-xs-4 type-image img-responsive\" src = \"getExternalResource.html?path=1463377807724/1570173811451/plane.png\" />\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8 checked\">Flight<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"row travel-type\" id=\"train\">\n\t\t\t\t\t\t\t\t\t<img class=\"col-xs-4 type-image img-responsive\" src = \"getExternalResource.html?path=1463377807724/1570173811451/train.png\" />\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">Train<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"row travel-type\" id=\"cab\">\n\t\t\t\t\t\t\t\t\t<img class=\"col-xs-4 type-image  img-responsive\" src = \"getExternalResource.html?path=1463377807724/1570173811451/cab.png\" />\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">Cab<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"row travel-type\" id=\"bus\">\n\t\t\t\t\t\t\t\t\t<img class=\"col-xs-4 type-image  img-responsive\" src = \"getExternalResource.html?path=1463377807724/1570173811451/bus.png\" />\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">Bus<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"col-xs-10\">\n\t\t\t\t\t\t\t\t<div class=\"row\" style=\"background: white; height: 15vw\">\n\t\t\t\t\t\t\t\t\t<div class=\"cost-of-travel\">Cost of Travel<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4\" id=\"traveller-travel-type-cost\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"traveller-travel-type-cost-value\"><\/div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"traveller-travel-type-cost-label\">Person Cost<\/div>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4\" id=\"pieChart\">\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4\" id=\"company-travel-type-cost\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"company-travel-type-cost-value\"><\/div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"company-travel-type-cost-label\">Company Cost<\/div>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div id=\"dummy\"><\/div>\n\t<\/div>\n\t<script>\n    $('.travel-type').on('click', function(){\n\tdashboard.setVariable('travel_type', $($(this).children()[1]).text());\n\t$('.checked').removeClass('checked');\n\t$(this).addClass('checked');\n});\n\n\t<\/script>","css":"@media print {\n\t#logo{\n\t\theight: 3.2vw;\n\t\twidth: 3.2vw;\n\t}\n\t\n\t.mid-panel{\n\t\theight: 250px;\n\t}\n}\n\n#logo{\n\tmargin-top:1.2vw;\n\tmax-height: 3.2vw;\n\tmax-width: 3.2vw;\n\tborder-radius:50%;\n\tborder: 1px solid #90c601;\n\tbackground: #5a68af;\n}\n\n.left-panel{\n\tbackground: #354751;\n\theight: 560px; //40.57vw;\n\tmargin-top:-15px;\n\twidth: 5.5%;\n}\n\n.top-panel{\n\tbackground: #354751;\n\theight: 59px;\n}\n\n#select, #runButton{\n\tpadding:0px;\n\theight:100%;\n}\n\n.form-control{\n\tborder-radius: 0px;\n\tborder-top-left-radius: 20px;\n\tborder-bottom-left-radius: 20px;\n}\n\n#runButton > .btn{\n\tborder-radius: 0px;\n\tborder-top-right-radius: 20px;\n\tborder-bottom-right-radius: 20px;\n\tbackground: #f2554f;\n\tborder-color: #f2554f;\n}\n\n.select-option{\n\tpadding-top: 15px;\n}\n\n.traveller-type{\n\tfont-family: raleway;\n\ttext-align: center;\n\tbackground: white;\n\tline-height: 1.5;\n\tfont-size: 1.4vw;\n\tpadding-top:0.1%;\n}\n\n\n.selected{\n\tbackground: #22c0d6;\n\tcolor: white;\n}\n\n.main-contents{\n\t//width: 100%;\n\tpadding-top: 15px;\n\tbackground:#eff4f7;\n}\n\n.traveller-avg-cost{\n\theight: 100%;\n\ttext-align: center;\n\tbackground: #5a68af;\n\tright: 10px;\n\tcolor: white;\n\tpadding-right: 0px;\n\tpadding-left: 0px;\n}\n\n.traveller-avg-cost-label{\n\tfont-family: raleway;\n\tmargin-top:1.5vw;\n\tfont-size:1.5vw;\n}\n\n.traveller-avg-cost-value{\n\tfont-family: raleway;\n\tfont-size: 2vw;\n}\n\n\n.company-avg-cost{\n\theight: 100%;\n\ttext-align: center;\n\tbackground: #27bfd7;\n\tleft: 0.75vw;\n\tcolor: white;\n\tpadding-right: 0vw;\n\tpadding-left: 0vw;\n}\n\n.company-avg-cost-label{\n\tfont-family: raleway;\n\tmargin-top:1.5vw;\n\tfont-size:1.5vw;\n}\n\n.company-avg-cost-value{\n\tfont-family: raleway;\n\tfont-size: 2vw;\n}\n\n.image-traveller{\n\twidth:100%;\n\tmax-height:60%;\n\tmargin-top:11%;\n\tpadding-right: 10%;\n\tpadding-left: 10%;\n}\n\n.image-company{\n\twidth: 100%;\n\tmargin-top:25%;\n}\n\n#barChartHeading{\n\tfont-family: raleway;\n\tfont-size: 1.5vw;\n\ttext-align: center;\n}\n\n.travel-type{\n\tfont-family: raleway;\n\tfont-size: 1.5vw;\n\tpadding-top:6.5%;\n\tcolor:white;\n\theight:3.75vw;\n\ttext-align: left;\n}\n\n#flight{\n\tbackground: #5b67ae;\n\tcursor: pointer;\n}\n\n#train{\n\tbackground: #27bfd7;\n\tcursor: pointer;\n}\n\n#cab{\n\tbackground: #faa719;\n\tcursor: pointer;\n}\n\n#bus{\n\tbackground: #f0564e;\n\tcursor: pointer;\n}\n\n.cost-of-travel{\n\tfont-family: raleway;\n\tfont-size: 1.5vw;\n\ttext-align: center;\n}\n\n#traveller-travel-type-cost-label, #company-travel-type-cost-label{\n\tfont-family: raleway;\n\tfont-size: 1.5vw;\n\ttext-align: center;\n\tpadding-right: 0vw;\n\tpadding-left: 0vw;\n}\n\n#traveller-travel-type-cost-value, #company-travel-type-cost-value{\n\tpadding-top: 1vw;\n\tfont-family: raleway;\n\tfont-size: 2.5vw;\n\ttext-align: center;\n\tpadding-right: 0vw;\n\tpadding-left: 0vw;\n}\n\n.checked{\n\tfont-style: italic;\n\tfont-weight: bold;\n}\n\n.type-image{\n\tpadding-left: 0px;\n}\n\n#chart_2 > svg{\n\theight: 17.5vw;\n}\n\n#chart_5 > svg{\n\theight: 12.75vw;\n}\n\n#company-travel-type-cost, #traveller-travel-type-cost, #pieChart{\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n}\n\n.mid-panel{\n\theight: 320px;\n}"},"parameters":[{"id":1,"configure":"dashboard.setVariable('traveller_name', 'Murray Hurps');\ndashboard.setVariable('travel_type', 'Flight');\n\nvar traveller_name = {\n    name: \"traveller_name\",\n    type:  \"select\",\n\tparameters :[\"traveller_name\"],\n\toptions:{\n        multiple:false,\n        value : \"employee\",\n        display : \"employee\",\n    },\n    htmlElementId : \"#select\",\n    executeAtStart: true,\n\tmap:1,\n\tefwd : {\n        file: '__efwd_file_name__'\n    },\n};","name":"traveller_name","type":"String","sql":{"id":1,"type":"sql","text":"select \"employee_name\" as \"employee\" from \"employee_details\"","dataSource":{"id":1,"name":"connection1"},"parameters":[]}},{"id":2,"configure":"var runButton = {\n    name: \"runButton\",\n\ttriggers:[\"travellerType\", \"barChart\", \"avgCost\", \"companyAvgCost\", \"pieChart\", \"travelTypeCostPerPerson\", \"travelTypeCostCompany\"],\n    type:  \"button\",\n\toptions:{\n\t\t\tdisplay: \"Check Status\"\n\t\t},\n    htmlElementId : \"#runButton\",\n    executeAtStart: false  ,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};\n","name":"runButton","type":"String","sql":{"id":2,"type":"sql","text":"","dataSource":{},"parameters":[]}},{"id":3,"configure":"","name":"travel_type","type":"String","sql":{"id":3,"type":"sql","text":"","dataSource":{},"parameters":[]}}],"reports":[{"id":1,"configure":"var travellerType = {\n    name: \"travellerType\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 1,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\"\n\t},\n    htmlElementId : \"#dummy\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    }\n};\n","visualisation":"$('.selected').removeClass('selected');\n\t\t\t\t\t\n\t\t\t\t\tif(data[0].travel_count <= 10 && data[0].travel_count >= 0)\n\t\t\t\t\t\t$('.tourist').addClass('selected');\n\t\t\t\t\telse if (data[0].travel_count > 10 && data[0].travel_count <= 20)\n\t\t\t\t\t\t$('.traveller').addClass('selected');\n\t\t\t\t\telse\n\t\t\t\t\t\t$('.nomad').addClass('selected');","name":"travellerType","vizName":"Custom","type":"Custom","icon":"VF","sql":{"id":4,"type":"sql","text":" select \r\n\t\t\t\t\t\t\"employee_name\" as \"employee\",\r\n\t\t\t\t\t\t\tcount(\"travel_cost\") as \"travel_count\" \r\n\t\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\t\twhere\r\n\t\t\t\t\t\t\t(\"employee_name\" = ${traveller_name}) \r\n\t\t\t\t\t\tgroup by\r\n\t\t\t\t\t\t\t\"employee_name\" ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""}]}},{"id":2,"configure":"var barChart = {\n    name: \"barChart\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 2,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\"\n\t},\n    htmlElementId : \"#barChart\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};\n","visualisation":" if (data.length == 0) {\n                        $('#chart_2').html(\"<div><h2 style='text-align:CENTER;color:#927333;'>No Data To Display<\/h2><\/div>\");\n                    } else {\t\t\n\t\t\t\t\t\tvar travel_count = $.map(data, function(val) { return val.travel_count; });\n\t\t\t\t\t\tvar quarter = $.map(data, function(val) { return val.quarter; });\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar chart = c3.generate({\n\t\t\t\t\t\t\tbindto: '#chart_2',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tx: 'x',\n\t\t\t\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t\t\t\t['x'].concat(quarter),\n\t\t\t\t\t\t\t\t\t['Tours'].concat(travel_count)\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\ttype : 'area-step',\n\t\t\t\t\t\t\t\tcolors: {\n\t\t\t\t\t\t\t\t\t'Tours' : '#faa719'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\tx: {\n\t\t\t\t\t\t\t\t\ttype: 'category' // this needed to load string x value\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ty : {\n\t\t\t\t\t\t\t\t\tshow: false \n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttooltip: {\n\t\t\t\t\t\t\t  show: true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlegend:{\n\t\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpadding:{\n\t\t\t\t\t\t\t\tbottom: 10\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\t\n\t\t\t\t\t}","name":"barChart","vizName":"Custom","type":"Custom","icon":"VF","sql":{"id":5,"type":"sql","text":"select \r\n\tcount(\"travel_cost\") as \"travel_count\",\r\n \t(CASE MONTH(\"travel_date\") WHEN < 4 THEN 1 WHEN BETWEEN 4 AND 6 then 2 WHEN BETWEEN 7 AND 9 then 3 WHEN BETWEEN 10 AND 12 then 4 END) as \"quarter\" \r\nfrom\r\n\t\"travel_details\" \r\ngroup by\r\n\t(CASE MONTH(\"travel_date\") WHEN < 4 THEN 1 WHEN BETWEEN 4 AND 6 then 2 WHEN BETWEEN 7 AND 9 then 3 WHEN BETWEEN 10 AND 12 then 4 END) FETCH FIRST 1000 ROWS ONLY","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""}]}},{"id":3,"configure":"var avgCost = {\n    name: \"avgCost\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 3,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\"\n\t},\n    htmlElementId : \"#traveller-avg-cost-value\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};","visualisation":"if(data[0].Count===0)\n\t\t\t\t\t\t$('#traveller-avg-cost-value').html('0');\n\t\t\t\t\telse{\t\t\n\t\t\t\t\t\tvar cost = data[0].travel_cost,\n\t\t\t\t\t\t\tcount = data[0].count;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar avg = cost/count;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t$('#traveller-avg-cost-value').html('$ '+Math.round(avg * 100) / 100);\n\t\t\t\t\t}","name":"avgCost","vizName":"Custom","type":"Custom","icon":"VF","sql":{"id":6,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"travel_cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"employee_name\" = ${traveller_name}) ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""}]}},{"id":4,"configure":"var companyAvgCost = {\n    name: \"companyAvgCost\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 4,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\"\n\t},\n    htmlElementId : \"#company-avg-cost-value\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};","visualisation":"if(data[0].Count===0)\n\t\t\t\t\t\t$('#company-avg-cost-value').html('0');\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar cost = data[0].travel_cost,\n\t\t\t\t\t\t\tcount = data[0].count;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar avg = cost/count;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t$('#company-avg-cost-value').html('$ '+Math.round(avg * 100) / 100);\n\t\t\t\t\t}","name":"companyAvgCost","vizName":"Custom","type":"Custom","icon":"VF","sql":{"id":7,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"travel_cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") ","dataSource":{"id":1,"name":"connection1"},"parameters":[]}},{"id":5,"configure":"var pieChart = {\n    name: \"pieChart\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 5,\n\t\tfile : \"__efwvf_name__\"\n\t},\n    htmlElementId : \"#pieChart\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};","visualisation":"\n\t\t\t\t\tif (data.length == 0) {\n                        $('#chart_5').html(\"<div style='border:1px solid; border-color:#337ab7;'><h2 style='text-align:CENTER;color:#927333;'>No Data To Display<\/h2><\/div>\");\n                        return;\n                    } else {\n\t\t\t\t\t\tvar type = $.map(data, function(val) { return val.Type; });\n\t\t\t\t\t\tvar cost = $.map(data, function(val) { return val.Cost; });\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar chart1 = c3.generate({\n\t\t\t\t\t\t\tbindto: '#chart_5',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\trows: [\n\t\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\t\tcost\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\ttype : 'pie'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolor: {\n\t\t\t\t\t\t\t\t\t\tpattern: ['#5a68af','#27bfd7', '#faa719', '#f0564e']\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlegend:{\n\t\t\t\t\t\t\t\tshow: false,\n\t\t\t\t\t\t\t\tposition: 'top'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpadding:{\n\t\t\t\t\t\t\t\tbottom: 20\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpie: {\n\t\t\t\t\t\t\t  label: {\n\t\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}","name":"pieChart","vizName":"Custom","type":"Custom","icon":"VF","sql":{"id":8,"type":"sql","text":"select \r\n\t\t\t\t\t\t\"travel_medium\" as \"Type\",\r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc')\r\n\t\t\t\t\tgroup by\r\n\t\t\t\t\t\t\"travel_medium\"","dataSource":{"id":1,"name":"connection1"},"parameters":[]}},{"id":6,"configure":"var travelTypeCostPerPerson = {\n    name: \"travelTypeCostPerPerson\",\n\ttype:  \"chart\",\n\tlisteners: [\"travel_type\"],\n\tvf : {\n\t\tid : 6,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\",\n\t\ttravel_type: \"travel_type\"\n\t},\n    htmlElementId : \"#traveller-travel-type-cost-value\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};\n","visualisation":"if(data[0].Count===0)\n\t\t\t\t\t\t$('#traveller-travel-type-cost-value').html('$ 0');\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar cost = data[0].Cost,\n\t\t\t\t\t\t\tcount = data[0].Count;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar avg = cost/count;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t$('#traveller-travel-type-cost-value').html('$ '+Math.round(avg * 100) / 100);\n\t\t\t\t\t}","name":"travelTypeCostPerPerson","vizName":"Custom","type":"Custom","icon":"VF","sql":{"id":9,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"Count\"  \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc' AND \r\n\t\t\t\t\t\t\"employee_name\" = ${traveller_name}\r\n\t\t\t\t\t\tAND \"travel_medium\" = ${travel_type}) ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""},{"id":3,"openQuote":"","closeQuote":""}]}},{"id":7,"configure":"var travelTypeCostCompany = {\n    name: \"travelTypeCostCompany\",\n\ttype:  \"chart\",\n\tlisteners: [\"travel_type\"],\n\tvf : {\n\t\tid : 7,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttravel_type: \"travel_type\"\n\t},\n    htmlElementId : \"#company-travel-type-cost-value\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};","visualisation":"if(data[0].Count===0)\n\t\t\t\t\t\t$('#company-travel-type-cost-value').html('0');\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar cost = data[0].Cost,\n\t\t\t\t\t\t\tcount = data[0].Count;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar avg = cost/count;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t$('#company-travel-type-cost-value').html('$ '+Math.round(avg * 100) / 100);\n\t\t\t\t}","name":"travelTypeCostCompany","vizName":"Custom","type":"Custom","icon":"VF","sql":{"id":10,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"Count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc' AND \r\n\t\t\t\t\t\t\"travel_medium\" = ${travel_type}) ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":3,"openQuote":"","closeQuote":""}]}}],"currentEditor":{"type":"parameters","name":"traveller_name","component":"sql"},"sqlList":[{"id":1,"type":"sql","text":"select \"employee_name\" as employee from \"employee_details\"","dataSource":{"id":1,"name":"connection1"},"parameters":[]},{"id":2,"type":"sql","text":"","dataSource":{},"parameters":[]},{"id":3,"type":"sql","text":"","dataSource":{},"parameters":[]},{"id":4,"type":"sql","text":"select \r\n\t\"employee_name\" as \"employee\",\r\n \tsum(\"travel_cost\") as \"travel_count\" \r\nfrom\r\n\t\"travel_details\" \r\n\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\twhere (\"employee_name\" = ${traveller_name}) \r\ngroup by\r\n\t\"employee_name\" ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""}]},{"id":5,"type":"sql","text":"select \r\n\tcount(\"travel_cost\") as \"count_travel_cost\",\r\n \t(CASE MONTH(\"travel_date\") WHEN < 4 THEN 1 WHEN BETWEEN 4 AND 6 then 2 WHEN BETWEEN 7 AND 9 then 3 WHEN BETWEEN 10 AND 12 then 4 END) as \"quarter\" \r\nfrom\r\n\t\"travel_details\" \r\n\twhere\r\n\t\t\t\t\t\t\t(\"employee_name\" = ${traveller_name}) \r\n\t\t\t\t\t\t\t\r\n\tgroup by (CASE MONTH(\"travel_date\") WHEN < 4 THEN 1 WHEN BETWEEN 4 AND 6 then 2 WHEN BETWEEN 7 AND 9 then 3 WHEN BETWEEN 10 AND 12 then 4 END)","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""}]},{"id":6,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"travel_cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"employee_name\" = ${traveller_name}) ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""}]},{"id":7,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"travel_cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") ","dataSource":{"id":1,"name":"connection1"},"parameters":[]},{"id":8,"type":"sql","text":"select \r\n\t\t\t\t\t\t\"travel_medium\" as \"Type\",\r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc')\r\n\t\t\t\t\tgroup by\r\n\t\t\t\t\t\t\"travel_medium\"","dataSource":{"id":1,"name":"connection1"},"parameters":[]},{"id":9,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"Count\"  \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc' AND \r\n\t\t\t\t\t\t\"employee_name\" = ${traveller_name}\r\n\t\t\t\t\t\tAND \"travel_medium\" = ${travel_type}) ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":1,"openQuote":"","closeQuote":""},{"id":3,"openQuote":"","closeQuote":""}]},{"id":10,"type":"sql","text":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"Count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc' AND \r\n\t\t\t\t\t\t\"travel_medium\" = ${travel_type}) ","dataSource":{"id":1,"name":"connection1"},"parameters":[{"id":3,"openQuote":"","closeQuote":""}]}],"aceText":"select \"employee_name\" as \"employee\" from \"employee_details\"","uuid":"edae6d65-f21d-4287-be53-37af5b9faea6","showDatasource":true,"showDashboard":true,"showParameter":true,"showReport":true,"Editor":{"type":"parameters","name":"traveller_name","component":"sql","aceText":"select \"employee_name\" as \"employee\" from \"employee_details\""},"editing":false,"isEditor":""},"htmlString":"\t<div class=\"col-xs-12\" style=\"padding:0px;\">\n\t\t<div class=\"row\" >\n\t\t\t\n\t\t\t<div class=\"col-xs-12\">\n\t\t\t\t<div class=\"top-panel row\">\n\t\t\t\t\t<div class=\"col-xs-1\">\n\t\t\t\t\t\t<img class=\"img-responsive\" id=\"logo\" src=\"getExternalResource.html?path=1463377807724/1570173811451/logo.png\" />\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"col-xs-2\"><\/div>\n\t\t\t\t\t<div class=\"col-xs-6 select-option\">\n\t\t\t\t\t\t<div class=\"col-xs-9\" id=\"select\"><\/div>\n\t\t\t\t\t\t<div class=\"col-xs-3\" id=\"runButton\"><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"col-xs-3\"><\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"row main-contents\">\n\t\t\t\t\t<div class=\"col-xs-1 left-panel\">\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"col-xs-11\">\n\t\t\t\t\t\t<div class=\"row mid-panel\"  style=\"padding-left:10px;  padding-right:10px;\">\n\t\t\t\t\t\t\t<div class=\"col-xs-7\" style=\"height:100%; padding-right:1.2vw; padding-left:1.2vw;\">\n\t\t\t\t\t\t\t\t<div class=\"row\" style=\"margin-right:0px; margin-left:0px;\" id=\"traveller_type\">\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4 traveller-type nomad\">NOMAD<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4 traveller-type traveller\">TRAVELLER<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4 traveller-type tourist\">TOURIST<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div style=\"height:15px;\"><\/div>\n\t\t\t\t\t\t\t\t<div class=\"row\" style=\"margin-right:0px; margin-left:0px; background:white;\">\n\t\t\t\t\t\t\t\t\t<div id=\"barChartHeading\">Number of Tours per Quarter<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"barChart\"><\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class=\"col-xs-5\" style=\"height:100%;\">\n\t\t\t\t\t\t\t\t<div class=\"col-xs-6 traveller-avg-cost\">\n\t\t\t\t\t\t\t\t\t<div class=\"row traveller-avg-cost-label\">Avg Cost<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"row traveller-avg-cost-value\" id=\"traveller-avg-cost-value\">Avg Cost<\/div>\n\t\t\t\t\t\t\t\t\t<img class=\"image-traveller img-responsive\" src=\"getExternalResource.html?path=1463377807724/1570173811451/traveller_avg_price.png\" />\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"col-xs-6 company-avg-cost\">\n\t\t\t\t\t\t\t\t\t<div class=\"row company-avg-cost-label\">Company Avg Cost<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"row company-avg-cost-value\" id=\"company-avg-cost-value\">Company Avg<\/div>\n\t\t\t\t\t\t\t\t\t<img class=\"image-company img-responsive\" src=\"getExternalResource.html?path=1463377807724/1570173811451/company_avg_prive.png\" />\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"row\" style=\"height:15px\">\n\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"row\" style=\"height:15vw; padding-left:1.2vw; padding-right:1.2vw\">\n\t\t\t\t\t\t\t<div class=\"col-xs-2\" id=\"travel-type\">\n\t\t\t\t\t\t\t\t<div class=\"row travel-type\" id=\"flight\">\n\t\t\t\t\t\t\t\t\t<img class=\"col-xs-4 type-image img-responsive\" src = \"getExternalResource.html?path=1463377807724/1570173811451/plane.png\" />\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8 checked\">Flight<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"row travel-type\" id=\"train\">\n\t\t\t\t\t\t\t\t\t<img class=\"col-xs-4 type-image img-responsive\" src = \"getExternalResource.html?path=1463377807724/1570173811451/train.png\" />\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">Train<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"row travel-type\" id=\"cab\">\n\t\t\t\t\t\t\t\t\t<img class=\"col-xs-4 type-image  img-responsive\" src = \"getExternalResource.html?path=1463377807724/1570173811451/cab.png\" />\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">Cab<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"row travel-type\" id=\"bus\">\n\t\t\t\t\t\t\t\t\t<img class=\"col-xs-4 type-image  img-responsive\" src = \"getExternalResource.html?path=1463377807724/1570173811451/bus.png\" />\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">Bus<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"col-xs-10\">\n\t\t\t\t\t\t\t\t<div class=\"row\" style=\"background: white; height: 15vw\">\n\t\t\t\t\t\t\t\t\t<div class=\"cost-of-travel\">Cost of Travel<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4\" id=\"traveller-travel-type-cost\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"traveller-travel-type-cost-value\"><\/div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"traveller-travel-type-cost-label\">Person Cost<\/div>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4\" id=\"pieChart\">\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-xs-4\" id=\"company-travel-type-cost\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"company-travel-type-cost-value\"><\/div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"col-xs-12\" id=\"company-travel-type-cost-label\">Company Cost<\/div>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div id=\"dummy\"><\/div>\n\t<\/div>\n\t<script>\n    $('.travel-type').on('click', function(){\n\tdashboard.setVariable('travel_type', $($(this).children()[1]).text());\n\t$('.checked').removeClass('checked');\n\t$(this).addClass('checked');\n});\n\n\t<\/script>","cssString":"@media print {\n\t#logo{\n\t\theight: 3.2vw;\n\t\twidth: 3.2vw;\n\t}\n\t\n\t.mid-panel{\n\t\theight: 250px;\n\t}\n}\n\n#logo{\n\tmargin-top:1.2vw;\n\tmax-height: 3.2vw;\n\tmax-width: 3.2vw;\n\tborder-radius:50%;\n\tborder: 1px solid #90c601;\n\tbackground: #5a68af;\n}\n\n.left-panel{\n\tbackground: #354751;\n\theight: 560px; //40.57vw;\n\tmargin-top:-15px;\n\twidth: 5.5%;\n}\n\n.top-panel{\n\tbackground: #354751;\n\theight: 59px;\n}\n\n#select, #runButton{\n\tpadding:0px;\n\theight:100%;\n}\n\n.form-control{\n\tborder-radius: 0px;\n\tborder-top-left-radius: 20px;\n\tborder-bottom-left-radius: 20px;\n}\n\n#runButton > .btn{\n\tborder-radius: 0px;\n\tborder-top-right-radius: 20px;\n\tborder-bottom-right-radius: 20px;\n\tbackground: #f2554f;\n\tborder-color: #f2554f;\n}\n\n.select-option{\n\tpadding-top: 15px;\n}\n\n.traveller-type{\n\tfont-family: raleway;\n\ttext-align: center;\n\tbackground: white;\n\tline-height: 1.5;\n\tfont-size: 1.4vw;\n\tpadding-top:0.1%;\n}\n\n\n.selected{\n\tbackground: #22c0d6;\n\tcolor: white;\n}\n\n.main-contents{\n\t//width: 100%;\n\tpadding-top: 15px;\n\tbackground:#eff4f7;\n}\n\n.traveller-avg-cost{\n\theight: 100%;\n\ttext-align: center;\n\tbackground: #5a68af;\n\tright: 10px;\n\tcolor: white;\n\tpadding-right: 0px;\n\tpadding-left: 0px;\n}\n\n.traveller-avg-cost-label{\n\tfont-family: raleway;\n\tmargin-top:1.5vw;\n\tfont-size:1.5vw;\n}\n\n.traveller-avg-cost-value{\n\tfont-family: raleway;\n\tfont-size: 2vw;\n}\n\n\n.company-avg-cost{\n\theight: 100%;\n\ttext-align: center;\n\tbackground: #27bfd7;\n\tleft: 0.75vw;\n\tcolor: white;\n\tpadding-right: 0vw;\n\tpadding-left: 0vw;\n}\n\n.company-avg-cost-label{\n\tfont-family: raleway;\n\tmargin-top:1.5vw;\n\tfont-size:1.5vw;\n}\n\n.company-avg-cost-value{\n\tfont-family: raleway;\n\tfont-size: 2vw;\n}\n\n.image-traveller{\n\twidth:100%;\n\tmax-height:60%;\n\tmargin-top:11%;\n\tpadding-right: 10%;\n\tpadding-left: 10%;\n}\n\n.image-company{\n\twidth: 100%;\n\tmargin-top:25%;\n}\n\n#barChartHeading{\n\tfont-family: raleway;\n\tfont-size: 1.5vw;\n\ttext-align: center;\n}\n\n.travel-type{\n\tfont-family: raleway;\n\tfont-size: 1.5vw;\n\tpadding-top:6.5%;\n\tcolor:white;\n\theight:3.75vw;\n\ttext-align: left;\n}\n\n#flight{\n\tbackground: #5b67ae;\n\tcursor: pointer;\n}\n\n#train{\n\tbackground: #27bfd7;\n\tcursor: pointer;\n}\n\n#cab{\n\tbackground: #faa719;\n\tcursor: pointer;\n}\n\n#bus{\n\tbackground: #f0564e;\n\tcursor: pointer;\n}\n\n.cost-of-travel{\n\tfont-family: raleway;\n\tfont-size: 1.5vw;\n\ttext-align: center;\n}\n\n#traveller-travel-type-cost-label, #company-travel-type-cost-label{\n\tfont-family: raleway;\n\tfont-size: 1.5vw;\n\ttext-align: center;\n\tpadding-right: 0vw;\n\tpadding-left: 0vw;\n}\n\n#traveller-travel-type-cost-value, #company-travel-type-cost-value{\n\tpadding-top: 1vw;\n\tfont-family: raleway;\n\tfont-size: 2.5vw;\n\ttext-align: center;\n\tpadding-right: 0vw;\n\tpadding-left: 0vw;\n}\n\n.checked{\n\tfont-style: italic;\n\tfont-weight: bold;\n}\n\n.type-image{\n\tpadding-left: 0px;\n}\n\n#chart_2 > svg{\n\theight: 17.5vw;\n}\n\n#chart_5 > svg{\n\theight: 12.75vw;\n}\n\n#company-travel-type-cost, #traveller-travel-type-cost, #pieChart{\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n}\n\n.mid-panel{\n\theight: 320px;\n}","configurations":{"parameters":[{"parameter":{"id":"1","name":"traveller_name","value":"var dashboard = Dashboard \n dashboard.resetAll() \n  \n        dashboard.setVariable('traveller_name', 'Murray Hurps');\ndashboard.setVariable('travel_type', 'Flight');\n\nvar traveller_name = {\n    name: \"traveller_name\",\n    type:  \"select\",\n\tparameters :[\"traveller_name\"],\n\toptions:{\n        multiple:false,\n        value : \"employee\",\n        display : \"employee\",\n    },\n    htmlElementId : \"#select\",\n    executeAtStart: true,\n\tmap:1,\n\tefwd : {\n        file: '__efwd_file_name__'\n    },\n}; "}},{"parameter":{"id":"2","name":"runButton","value":"var runButton = {\n    name: \"runButton\",\n\ttriggers:[\"travellerType\", \"barChart\", \"avgCost\", \"companyAvgCost\", \"pieChart\", \"travelTypeCostPerPerson\", \"travelTypeCostCompany\"],\n    type:  \"button\",\n\toptions:{\n\t\t\tdisplay: \"Check Status\"\n\t\t},\n    htmlElementId : \"#runButton\",\n    executeAtStart: false  ,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};\n"}}],"reports":[{"report":{"id":"1","name":"travellerType","value":"var travellerType = {\n    name: \"travellerType\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 1,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\"\n\t},\n    htmlElementId : \"#dummy\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    }\n};\n"}},{"report":{"id":"2","name":"barChart","value":"var barChart = {\n    name: \"barChart\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 2,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\"\n\t},\n    htmlElementId : \"#barChart\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};\n"}},{"report":{"id":"3","name":"avgCost","value":"var avgCost = {\n    name: \"avgCost\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 3,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\"\n\t},\n    htmlElementId : \"#traveller-avg-cost-value\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};"}},{"report":{"id":"4","name":"companyAvgCost","value":"var companyAvgCost = {\n    name: \"companyAvgCost\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 4,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\"\n\t},\n    htmlElementId : \"#company-avg-cost-value\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};"}},{"report":{"id":"5","name":"pieChart","value":"var pieChart = {\n    name: \"pieChart\",\n\ttype:  \"chart\",\n\tvf : {\n\t\tid : 5,\n\t\tfile : \"__efwvf_name__\"\n\t},\n    htmlElementId : \"#pieChart\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};"}},{"report":{"id":"6","name":"travelTypeCostPerPerson","value":"var travelTypeCostPerPerson = {\n    name: \"travelTypeCostPerPerson\",\n\ttype:  \"chart\",\n\tlisteners: [\"travel_type\"],\n\tvf : {\n\t\tid : 6,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttraveller_name: \"traveller_name\",\n\t\ttravel_type: \"travel_type\"\n\t},\n    htmlElementId : \"#traveller-travel-type-cost-value\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};\n"}},{"report":{"id":"7","name":"travelTypeCostCompany","value":"var travelTypeCostCompany = {\n    name: \"travelTypeCostCompany\",\n\ttype:  \"chart\",\n\tlisteners: [\"travel_type\"],\n\tvf : {\n\t\tid : 7,\n\t\tfile : \"__efwvf_name__\"\n\t},\n\trequestParameters : {\n\t\ttravel_type: \"travel_type\"\n\t},\n    htmlElementId : \"#company-travel-type-cost-value\",\n    executeAtStart: true,\n    efwd : {\n        file: '__efwd_file_name__'\n    },\n};"}}]},"efwd":{"dataSources":{"connections":[{"connection":{"id":"1","type":"global.jdbc","connDetails":{"globalId":"1"}}}]},"dataMaps":[{"dataMap":{"name":"traveller_name","id":"1","type":"sql","connection":"1","query":"select \"employee_name\" as \"employee\" from \"employee_details\""}},{"dataMap":{"name":"travellerType","id":"4","type":"sql","connection":"1","query":" select \r\n\t\t\t\t\t\t\"employee_name\" as \"employee\",\r\n\t\t\t\t\t\t\tcount(\"travel_cost\") as \"travel_count\" \r\n\t\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\t\twhere\r\n\t\t\t\t\t\t\t(\"employee_name\" = ${traveller_name}) \r\n\t\t\t\t\t\tgroup by\r\n\t\t\t\t\t\t\t\"employee_name\" ","parameters":[{"parameter":{"default":"","name":"traveller_name","type":"String"}}]}},{"dataMap":{"name":"barChart","id":"5","type":"sql","connection":"1","query":"select \r\n\tcount(\"travel_cost\") as \"travel_count\",\r\n \t(CASE MONTH(\"travel_date\") WHEN < 4 THEN 1 WHEN BETWEEN 4 AND 6 then 2 WHEN BETWEEN 7 AND 9 then 3 WHEN BETWEEN 10 AND 12 then 4 END) as \"quarter\" \r\nfrom\r\n\t\"travel_details\" \r\ngroup by\r\n\t(CASE MONTH(\"travel_date\") WHEN < 4 THEN 1 WHEN BETWEEN 4 AND 6 then 2 WHEN BETWEEN 7 AND 9 then 3 WHEN BETWEEN 10 AND 12 then 4 END) FETCH FIRST 1000 ROWS ONLY","parameters":[{"parameter":{"default":"","name":"traveller_name","type":"String"}}]}},{"dataMap":{"name":"avgCost","id":"6","type":"sql","connection":"1","query":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"travel_cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"employee_name\" = ${traveller_name}) ","parameters":[{"parameter":{"default":"","name":"traveller_name","type":"String"}}]}},{"dataMap":{"name":"companyAvgCost","id":"7","type":"sql","connection":"1","query":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"travel_cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") "}},{"dataMap":{"name":"pieChart","id":"8","type":"sql","connection":"1","query":"select \r\n\t\t\t\t\t\t\"travel_medium\" as \"Type\",\r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc')\r\n\t\t\t\t\tgroup by\r\n\t\t\t\t\t\t\"travel_medium\""}},{"dataMap":{"name":"travelTypeCostPerPerson","id":"9","type":"sql","connection":"1","query":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"Count\"  \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc' AND \r\n\t\t\t\t\t\t\"employee_name\" = ${traveller_name}\r\n\t\t\t\t\t\tAND \"travel_medium\" = ${travel_type}) ","parameters":[{"parameter":{"default":"","name":"traveller_name","type":"String"}},{"parameter":{"default":"","name":"travel_type","type":"String"}}]}},{"dataMap":{"name":"travelTypeCostCompany","id":"10","type":"sql","connection":"1","query":"select \r\n\t\t\t\t\t\tsum(\"travel_cost\") as \"Cost\",\r\n\t\t\t\t\t\tcount(\"employee_name\") as \"Count\" \r\n\t\t\t\t\tfrom\r\n\t\t\t\t\t\t\"travel_details\" \r\n\t\t\t\t\t\tinner join \"employee_details\" on (\"employee_id\" = \"travelled_by\") \r\n\t\t\t\t\twhere\r\n\t\t\t\t\t\t(\"travel_medium\" != 'Misc' AND \r\n\t\t\t\t\t\t\"travel_medium\" = ${travel_type}) ","parameters":[{"parameter":{"default":"","name":"travel_type","type":"String"}}]}}]},"visualisation":[{"id":"1","name":"travellerType","type":"Custom","dataSource":"4","settings":{"script":"$('.selected').removeClass('selected');\n\t\t\t\t\t\n\t\t\t\t\tif(data[0].travel_count <= 10 && data[0].travel_count >= 0)\n\t\t\t\t\t\t$('.tourist').addClass('selected');\n\t\t\t\t\telse if (data[0].travel_count > 10 && data[0].travel_count <= 20)\n\t\t\t\t\t\t$('.traveller').addClass('selected');\n\t\t\t\t\telse\n\t\t\t\t\t\t$('.nomad').addClass('selected');"}},{"id":"2","name":"barChart","type":"Custom","dataSource":"5","settings":{"script":" if (data.length == 0) {\n                        $('#chart_2').html(\"<div><h2 style='text-align:CENTER;color:#927333;'>No Data To Display<\/h2><\/div>\");\n                    } else {\t\t\n\t\t\t\t\t\tvar travel_count = $.map(data, function(val) { return val.travel_count; });\n\t\t\t\t\t\tvar quarter = $.map(data, function(val) { return val.quarter; });\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar chart = c3.generate({\n\t\t\t\t\t\t\tbindto: '#chart_2',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tx: 'x',\n\t\t\t\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t\t\t\t['x'].concat(quarter),\n\t\t\t\t\t\t\t\t\t['Tours'].concat(travel_count)\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\ttype : 'area-step',\n\t\t\t\t\t\t\t\tcolors: {\n\t\t\t\t\t\t\t\t\t'Tours' : '#faa719'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\tx: {\n\t\t\t\t\t\t\t\t\ttype: 'category' // this needed to load string x value\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ty : {\n\t\t\t\t\t\t\t\t\tshow: false \n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttooltip: {\n\t\t\t\t\t\t\t  show: true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlegend:{\n\t\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpadding:{\n\t\t\t\t\t\t\t\tbottom: 10\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\t\n\t\t\t\t\t}"}},{"id":"3","name":"avgCost","type":"Custom","dataSource":"6","settings":{"script":"if(data[0].Count===0)\n\t\t\t\t\t\t$('#traveller-avg-cost-value').html('0');\n\t\t\t\t\telse{\t\t\n\t\t\t\t\t\tvar cost = data[0].travel_cost,\n\t\t\t\t\t\t\tcount = data[0].count;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar avg = cost/count;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t$('#traveller-avg-cost-value').html('$ '+Math.round(avg * 100) / 100);\n\t\t\t\t\t}"}},{"id":"4","name":"companyAvgCost","type":"Custom","dataSource":"7","settings":{"script":"if(data[0].Count===0)\n\t\t\t\t\t\t$('#company-avg-cost-value').html('0');\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar cost = data[0].travel_cost,\n\t\t\t\t\t\t\tcount = data[0].count;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar avg = cost/count;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t$('#company-avg-cost-value').html('$ '+Math.round(avg * 100) / 100);\n\t\t\t\t\t}"}},{"id":"5","name":"pieChart","type":"Custom","dataSource":"8","settings":{"script":"\n\t\t\t\t\tif (data.length == 0) {\n                        $('#chart_5').html(\"<div style='border:1px solid; border-color:#337ab7;'><h2 style='text-align:CENTER;color:#927333;'>No Data To Display<\/h2><\/div>\");\n                        return;\n                    } else {\n\t\t\t\t\t\tvar type = $.map(data, function(val) { return val.Type; });\n\t\t\t\t\t\tvar cost = $.map(data, function(val) { return val.Cost; });\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar chart1 = c3.generate({\n\t\t\t\t\t\t\tbindto: '#chart_5',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\trows: [\n\t\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\t\tcost\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\ttype : 'pie'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolor: {\n\t\t\t\t\t\t\t\t\t\tpattern: ['#5a68af','#27bfd7', '#faa719', '#f0564e']\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlegend:{\n\t\t\t\t\t\t\t\tshow: false,\n\t\t\t\t\t\t\t\tposition: 'top'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpadding:{\n\t\t\t\t\t\t\t\tbottom: 20\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpie: {\n\t\t\t\t\t\t\t  label: {\n\t\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}"}},{"id":"6","name":"travelTypeCostPerPerson","type":"Custom","dataSource":"9","settings":{"script":"if(data[0].Count===0)\n\t\t\t\t\t\t$('#traveller-travel-type-cost-value').html('$ 0');\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar cost = data[0].Cost,\n\t\t\t\t\t\t\tcount = data[0].Count;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar avg = cost/count;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t$('#traveller-travel-type-cost-value').html('$ '+Math.round(avg * 100) / 100);\n\t\t\t\t\t}"}},{"id":"7","name":"travelTypeCostCompany","type":"Custom","dataSource":"10","settings":{"script":"if(data[0].Count===0)\n\t\t\t\t\t\t$('#company-travel-type-cost-value').html('0');\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar cost = data[0].Cost,\n\t\t\t\t\t\t\tcount = data[0].Count;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar avg = cost/count;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t$('#company-travel-type-cost-value').html('$ '+Math.round(avg * 100) / 100);\n\t\t\t\t}"}}],"dir":"1463377807724/1570173811451","file":"Sample Report CE","uuid":"edae6d65-f21d-4287-be53-37af5b9faea6","componentJson":{"@class":"com.helicalinsight.efwce.DashboardIOHandler"}}}]]></state>
    <security>
        <createdBy>1</createdBy>
        <organization></organization>
    </security>
</efwce>
